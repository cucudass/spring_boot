<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.dao.PageDAO">
    <select id="listWithPaging" resultType="com.boot.dto.BoardDTO">
    <!-- <![CDATA[ data query ]]> 특수문자 인식 (<=, >=, <, > 등등....)-->
	<![CDATA[     	
        select rownum, boardNo, boardName, boardTitle, boardContent, boardDate, boardHit
		from
		(
			select row_number() over(order by boardNo desc) as rownum,
				   boardNo, boardName, boardTitle, boardContent, boardDate, boardHit 
			from tbl_board
			order by boardNo desc
		) a
		where rownum between ((#{pageNum} - 1) * #{amount}) + 1 and #{pageNum} * #{amount};
		]]>
    </select>
</mapper>
